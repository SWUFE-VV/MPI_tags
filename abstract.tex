%!TEX root = paper.tex
Message Passing Interface (MPI) is a common programming model in high performance computing (HPC). 
Analyzing the behavior in any MPI execution is notoriously difficult because of the complexity in MPI semantics: message non-determinism and collective communication. 
The message non-determinism leads to unexpected behavior where multiple messages with different sources and/or different tags may race in the arrival at a single receive operation. 
MPI collective communication uses special messages for global computation in that they have to be not interrupted with the messages in point-to-point communication. 
This paper provides an efficient SMT encoding that is able to precisely reason about MPI non-deterministic behavior and collective communication. The message non-determinism is encoded by directly using match pair (a coupling for a send and a receive where they may potentially match in the runtime) to capture the potential message communication topology. The computation in collective communication is modeled as a set of sends and receives with special tags. Novel is that the encoding does not constrain the total order in each process; rather, it only bounds the sequential order over any two operations according to MPI \textit{non-overtaking} ordering. 
%As such, fewer clauses are encoded. 
This paper also gives an efficient algorithm that approximates match pairs using simple counting for various types of message non-determinism. 
The experimental results demonstrate that the new SMT encoding is capable of precisely reasoning about the behavior in a set of benchmarks.